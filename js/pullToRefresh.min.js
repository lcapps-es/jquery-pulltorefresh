/**************************************************************
 * JavaScript PullToRefresh
 * @version v1.1.0
 *
 * @description
 * The way to use this plugin is as follows:
 * 	1. Creates a div where the image will be previewed
 *	2. Initialize fileUploader plugin: $(div).pullToRefresh();
 * 
 * @see https://github.com/lcapps-es/jquery-pullToRefresh
 * @author LCApps
 * 
 * Copyright (c) 2017 - Licensed MIT
 **************************************************************/
!function(e){function t(e){var e=void 0===e?{}:e,t=s.Options.processOptions(e)
return this.each(function(){s.load(this,t)}),this.stop=n,this}function n(){var t=e(this).attr("id")
e(".refresh-"+t).css("min-height",0),e(".refresh-"+t+" .fa-refresh").removeClass("fa-spin")}var s={MAX_HEIGHT:120,UPDATE_HEIGHT:90,load:function(t,n){var i=e(t).attr("id")
0===e(".refresh-"+i).length&&(s.Makers.appendElements(t,n),s.Makers.addClickEvents(t,n))},Options:{processOptions:function(e){return e}},Makers:{appendElements:function(t,n){var s=e(t).attr("id"),i=e('<div class="refresh-'+s+'" style="min-height: 0px; box-shadow: rgba(0, 0, 0, 0.12) 0px -3px 5px inset; pointer-events: none; font-size: 0.85em; font-weight: bold; top: 0px; height: 0px; transition: height 0.3s, min-height 0.3s; width: 100%; overflow: hidden; display: flex; align-items: flex-end; align-content: stretch; text-align: center;"><div style="padding: 20px;flex-basis: 100%;"><i class="fa fa-refresh" style="font-size: 50px;"></i></div></div>')
e(t).before(i)},addClickEvents:function(t,n){var i=e(t).attr("id")
window.addEventListener("touchstart",function(n){var s=n.touches[0].clientY
e(t).data("posY",s)}),window.addEventListener("touchmove",function(n){var r=n.touches[0].clientY,a=(r-e(t).data("posY"))/1
a>0&&a<s.MAX_HEIGHT&&e(".refresh-"+i).css("min-height",a)}),window.addEventListener("touchend",function(r){var a=r.changedTouches[0].clientY,o=(a-e(t).data("posY"))/1
o>0&&o<s.UPDATE_HEIGHT?e(".refresh-"+i).css("min-height",0):(e(".refresh-"+i+" .fa-refresh").addClass("fa-spin"),e(".refresh-"+i).css("min-height",s.UPDATE_HEIGHT),n.refreshCallback())})}}}
e.fn.pullToRefresh=t}(window.jQuery)
